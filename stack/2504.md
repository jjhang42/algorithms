# Value of Parentheses

**Time Limit:** 1 second  
**Memory Limit:** 128 MB

---

## Problem

Among bracket strings formed using the four symbols `'('`, `')'`, `'['`, `']'`, a **valid bracket string** is defined as follows:

1. `"()"` and `"[]"` are valid.
2. If `X` is valid, then `"(X)"` and `"[X]"` are also valid.
3. If both `X` and `Y` are valid, then the concatenation `XY` is valid.

For example, `(()[[]])` and `(())[][]` are valid, while `([)]` and `(()()[]` are not.

For any valid bracket string `X`, define its **value** `val(X)` as:

- `val("()") = 2`
- `val("[]") = 3`
- `val("(X)") = 2 × val(X)`
- `val("[X]") = 3 × val(X)`
- If `X` and `Y` are valid, `val(XY) = val(X) + val(Y)`

Example: For `(()[[]])([])`, the value of `"()[[]]"` is `2 + 3×3 = 11`, so `val("(()[[]])") = 2×11 = 22`.  
The value of `"( [])"` is `2×3 = 6`, hence the total is `22 + 6 = 28`.

Your task is to read a bracket string and output its value as defined above.

---

## Input

A single line containing a string representing a bracket sequence. Its length is between 1 and 30, inclusive.

---

## Output

Print an integer — the value of the bracket string. If the input is **not** a valid bracket string, print `0`.

---

## Examples

**Input**
```
(()[[]])([])
```
**Output**
```
28
```

**Input**
```
[][]((])
```
**Output**
```
0
```

---

## Source

Olympiad > Korean Olympiad in Informatics > Provincial Contest 2008 > Elementary #4  
Olympiad > Korean Olympiad in Informatics > Provincial Contest 2008 > Middle School #2

Contributors: 906bc, djm03178, eatgugbab, ikissedagirl, leedongbin, sang7, sankim90, sayfour, whiteque  
Invalid data reported by: djm03178

---

## Algorithm Classification

- Implementation  
- Data Structures  
- Stack
