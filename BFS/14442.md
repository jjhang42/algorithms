# Break the Wall and Move 2 (Problem 14442)

**Time Limit:** 2 seconds\
**Memory Limit:** 512 MB\
**Submissions:** 40,763\
**Accepted:** 11,820\
**Solved by:** 7,895\
**Acceptance Rate:** 27.619%

------------------------------------------------------------------------

There is a map represented by an N×M matrix.\
In this map: - `0` represents a cell you can move through.\
- `1` represents a wall you cannot pass through.

You start at position (1, 1) and want to reach position (N, M) in the
shortest path possible.\
The shortest path means the path that goes through the fewest number of
cells, **including** the starting and ending cells.

While moving, if breaking a wall shortens the path, you are allowed to
break **up to K walls**.\
You can move to adjacent cells in the **four directions** (up, down,
left, right).

Given the map, write a program to find the shortest path from (1, 1) to
(N, M).

------------------------------------------------------------------------

## Input

The first line contains `N` (1 ≤ N ≤ 1,000), `M` (1 ≤ M ≤ 1,000), and
`K` (1 ≤ K ≤ 10).\
The next N lines each contain M digits representing the map.\
It is guaranteed that both (1, 1) and (N, M) are always `0`.

## Output

Print the shortest path length.\
If it is impossible to reach (N, M), print `-1`.

------------------------------------------------------------------------

## Example Input 1

    6 4 1
    0100
    1110
    1000
    0000
    0111
    0000

## Example Output 1

    15

## Example Input 2

    6 4 2
    0100
    1110
    1000
    0000
    0111
    0000

## Example Output 2

    9

## Example Input 3

    4 4 3
    0111
    1111
    1111
    1110

## Example Output 3

    -1

------------------------------------------------------------------------

## Classification

-   Graph Theory
-   Graph Traversal
-   Breadth-First Search (BFS)
-   Grid Graph
