# Safe Areas

## Time Limit
1 second

## Memory Limit
128 MB

## Submissions / Correct / Solvers / Accuracy
133,604 / 51,589 / 33,575 / 35.368%

## Problem

The Disaster and Safety Agency is planning a task in preparation for the heavy rainfall during the monsoon season. First, they gather elevation data of a region. Then, they analyze how many safe zones will remain unflooded depending on different rainfall levels.

The elevation data is given as a 2D array of size N×N, where each element represents the height of the region. For example, the following is a height map for a region where N=5:

```
6 8 2 6 2
3 2 3 4 6
6 7 3 3 2
7 2 5 3 6
8 9 5 2 7
```

If it rains such that every area with height ≤ 4 gets flooded, the flooded areas (marked in gray) would look like this:

```
6 8 2 6 2
3 2 3 4 6
6 7 3 3 2
7 2 5 3 6
8 9 5 2 7
```

A "safe area" is defined as a region of connected land that is not flooded. Two non-flooded regions are considered connected only if they are adjacent vertically or horizontally (not diagonally). In the example above, the number of safe areas is 5.

If the flood level rises to submerge every area with height ≤ 6, the safe areas would look like this:

```
6 8 2 6 2
3 2 3 4 6
6 7 3 3 2
7 2 5 3 6
8 9 5 2 7
```

As seen above, the number of safe areas decreases to 4.

By analyzing all possible flood levels, the maximum number of safe areas can be determined. For the example given, that maximum number is 5.

## Input

- The first line contains the integer N (2 ≤ N ≤ 100), the size of the region.
- The next N lines contain N integers each (1 ≤ height ≤ 100), representing the height map of the region.

## Output

- Output a single integer: the maximum number of safe areas for all possible rain levels.

## Example Input 1

```
5
6 8 2 6 2
3 2 3 4 6
6 7 3 3 2
7 2 5 3 6
8 9 5 2 7
```

## Example Output 1

```
5
```

## Example Input 2

```
7
9 9 9 9 9 9 9
9 2 1 2 1 2 9
9 1 8 7 8 1 9
9 2 7 9 7 2 9
9 1 8 7 8 1 9
9 2 1 2 1 2 9
9 9 9 9 9 9 9
```

## Example Output 2

```
6
```

## Note

There may be cases where no region is flooded at all.

## Source

Olympiad > Korean Olympiad in Informatics > KOI 2010 > Elementary Division - Problem 2

- Typo fix: apjw6112
- Expression refinement: jh05013
- Data contributor: ps9319
- Data correction: tncks0121

## Categories

- Graph Theory
- Brute Force
- Graph Traversal
- Breadth-First Search (BFS)
- Depth-First Search (DFS)
- Grid Graph