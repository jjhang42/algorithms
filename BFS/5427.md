# Fire (Problem 5427)

**Time Limit:** 1 second  
**Memory Limit:** 256 MB

---

## Problem

Sang-geun is trapped in a building made up of empty spaces and walls. Some places are already on fire, and Sang-geun is trying to reach an exit.

Every second, the fire spreads to the four orthogonally adjacent cells (up, down, left, right) that are empty. Fire does not spread into walls.  
Sang-geun can also move to one orthogonally adjacent cell per second. He cannot pass through walls, and he cannot move into a cell that is already on fire **or** will catch fire at the same time. However, if the fire reaches Sang-geun’s current cell at the same moment, he may move out of it in that second.

Given the building map, determine how quickly Sang-geun can escape the building.

---

## Input

- The first line contains an integer **T**, the number of test cases (up to 100).
- For each test case:
  - The first line contains two integers **w** and **h** (1 ≤ w, h ≤ 1000), the width and height of the map.
  - The next **h** lines each contain **w** characters describing the building:
    - `.` : empty space  
    - `#` : wall  
    - `@` : Sang-geun’s starting position  
    - `*` : fire
  - Each map contains exactly one `@`.

---

## Output

For each test case, print the minimum time (in seconds) required for Sang-geun to escape the building.  
If it is impossible for him to escape, print `IMPOSSIBLE`.

---

## Example

### Input
```
5
4 3
####
#*@.
####
7 6
###.###
#*#.#*#
#.....#
#.....#
#..@..#
#######
7 4
###.###
#....*#
#@....#
.######
5 5
.....
.***.
.*@*.
.***.
.....
3 3
###
#@#
###
```

### Output
```
2
5
IMPOSSIBLE
IMPOSSIBLE
IMPOSSIBLE
```

---

## Source

ICPC > Regionals > Europe > Northwestern European Regional Contest > Benelux Algorithm Programming Contest > BAPC 2012, Problem F

Contributors:  
- Errata found by: **adh0463**  
- Data added by: **b8goal**, **djm03178**  
- Translated by: **baekjoon**

---

## Algorithm Classification
- Graph Theory  
- Graph Traversal  
- Breadth-First Search (BFS)  
- Grid Graph
